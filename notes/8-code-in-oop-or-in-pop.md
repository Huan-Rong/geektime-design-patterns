# 8 哪些代码看似是面向对象，其实是面向过程的

> **人类解决问题的方式是流程化的，即 PO；但看待问题的方式却是 OO 的**。因此，尽管使用 OOP 的方法去思考问题，但真正执行的时候往往容易会变成 POP 的方式。

## OOP 中几种 POP 代码

* 滥用 getter/setter
* 滥用全局变量和全局方法
* 定义数据和方法分离的类

### 滥用 getter/setter

getter/setter 的滥用会暴露私有属性，破坏了面向对象编程的封装性。这跟面向过程编程的**数据与方法分离**的特点更接近。最后可能造成的结果就是私有属性被莫名其妙地修改，属性之间的数据一致性也被破坏。

在破坏封装性方面，setter 要比 getter 厉害得多，因此，在给属性定义 setter 方法之前一定要考虑清楚。而 getter 相对安全一些，但是如果 getter 返回容器对象时，那么要注意防范容器内部数据被外部修改。

### 滥用全局变量和全局方法
#### Constants 类

当所有的常量都定义在一个 Constants 类里时，这会造成以下问题。

* 代码的可维护性降低
* 代码的编译时间增加
* 代码的复用性降低

##### 改进的思路

* 分类定义，比如 RedisConstants、MySQLConstants
* 内聚式定义

#### Utils 类

尽管 Utils 类破坏了代码的封装性，但 Utils 类能提高代码的复用性。我们不能非黑即白地否定 POP，只要能够提高代码的质量，那么我们就应当思考如何适度地去使用。

另外，类比 Constants 类的分类定义，Utils 类在定义时也应当采取相同的策略。

### 定义数据和方法分离的类

基于贫血模型的开发模式，在面向对象实战环节会有两节课的内容来展开讲述。

### 注意

* 滥用，不等同于不能使用，它更重要的含义是认真思考后再去使用，并且使用时要留心注意事项。
* 开发过程中，使用一些技巧来减少编译所花费的时间是非常重要的，对于大规模的程序更是如此。
* 传统 MVC 三层 Model、View、Controller 在前后端分离后发生了变化：Controller、Service、Repository。
  * Controller 负责暴露接口给前端调用
  * Service 负责核心业务逻辑
  * Repository 负责数据读写

## 在面向对象编程中，为什么容易写出面向过程风格的代码？

> **人类解决问题的方式是流程化的，即 PO；但看待问题的方式却是 OO 的**。因此，尽管使用 OOP 的方法去思考问题，但真正执行的时候往往容易会变成 POP 的方式。

* 人类认知世界的方式是 OOP 的，执行的方式却是 POP 的
* OOP 要比 POP 难一些，需要一定的设计经验

基于以上两点原因，如果在编程过程中没有进行思考，那么就很容易写出 POP 风格的代码。
