# 3 设计模式学习导读 - 高质量的代码长什么样？
## 如何评价代码的质量

代码的质量应当从多个维度评价，但不同的维度可能并不是独立的，它们还可能具有包含关系、重叠关系、相互影响等。下面简单介绍最常见、最重要的维度。

* 可维护性
* 可读性
* 可扩展性
* 灵活性
* 简洁性
* 可复用性 
* 可测试性

## 可维护性

* **维护**指的是修改代码或增加代码之类的工作。其中，修改代码包括但不局限于修改 bug、重构代码。
* **代码可维护/易维护**指的是在不引入 bug、破坏原有代码设计（重构除外）的情况下，能够快速地修改或增加代码。
* **代码不可维护/不易维护**指的是在修改或增加代码时，需要冒着极大的引入 bug 的风险，并且需要花费很长时间来完成。

**代码可维护是由很多因素协同作用的结果。也就是，如果我们能够控制影响代码可维护性的因素，那么代码自然就具备了可维护性。**

比较抽象的因素有：

* 简洁性
* 可读性
* 可扩展性
* ...

更细化地讲：

* 符合编码规范，比如 [Google Style Guides](https://github.com/google/styleguide)
* 代码分层清晰
* 模块化
* 高内聚低耦合
* 面向接口编程而非面向实现编程 

## 可读性

> Any fool can write code that a computer can understand. Good programmers write code that humans can understand. -- Martin Fowler

代码的可读性会在很大程度上影响代码的可维护性。毕竟在维护代码之前，必须先阅读和理解代码。影响代码可读性的相关因素：

* 符合编码规范，比如 [Google Style Guides](https://github.com/google/styleguide)
* 注释是否得当
* 模块化
* 高内聚低耦合
* ...

## 可扩展性

**可扩展性**意味着当前的代码具备应对未来需求变化的能力。也就是说，我们可以在不修改或少量修改原有代码的情况下，通过扩展的方式添加新的功能代码。

代码的可扩展性也在很大程度上影响代码的可维护性。

## 小结

### 标准如何落地？

**尽管这些代码质量的评价标准没有量化的标准，但是有落地的编程方法论。所有这些细化的编程方法论最终的目的都是为了编写出高质量的代码。因此，在编程过程中，适时地使用这些方法论，代码的质量自然就上去。与其讨论标准是否能够量化，不如认真地考察满足场景的方法是否有落地。**

### 存不存在第一评价标准？

高质量的代码存在多个评价标准，这些标准还可能存在包含关系、重叠关系或相互影响等关系。如果一份代码只满足了其中一些评价标准，而与其他的评价标准相去甚远，那么这份代码绝对不算是一份高质量代码。我们应当做到尽可能满足所有的标准。

### 高质量 VS 设计模式

高质量代码并非意味着必须使用设计模式，比如可读性，这跟任何一种设计模式都没有关系。但是，在许多经典的场景下，设计模式用助于我们写出高质量的代码。

### 如何使用设计模式

* 一个设计模式是用于解决一类经典的问题，因此在使用设计模式之前，应当思考面对的问题域是怎么样的。
* 不要为了使用设计模式而使用设计模式，认清问题，当问题还未发展到需要使用设计模式的地步，那么强行使用设计模式带来的效果可能不佳，并且可能会导致代码变得复杂。
* 思从深，行从简。真正的高手能云淡风轻地用最简单的方法解决最复杂的问题。这也是一个编程老手与编程新手的本质区别之一。

### 网友评论摘抄

《重构》中用坏味道来描述代码，一言以蔽之，高质量的代码没有坏味道。

 代码虽然运行在计算机上，但代码本身终究是为人服务。这个服务的要点在于，能被人轻松阅读理解，能被人愉快修改不出错，其实，也就仅此而已了。于是，为了好代码的这个本质，我们产生了各种方法论，包括但不限于设计思想，方法，模式，规范，重构技巧等等…

健壮性, 代码应当能够处理各种异常情况。
